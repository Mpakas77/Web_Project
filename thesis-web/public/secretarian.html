<!doctype html><html lang="el"><meta charset="utf-8">
<title>Γραμματεία</title>
<link rel="stylesheet" href="css/styles.css">
<body>
<header class="topbar"><h2>Πίνακας Γραμματείας</h2></header>
<main class="container">
<section class="card" style="padding:1rem">
<h3>Αναζήτηση χρηστών</h3>
<input id="q" placeholder="όνομα/email/AM">
<button id="go" class="btn">Αναζήτηση</button>
<div id="list"></div>
</section>
</main>
<script type="module">
import { guardRole, apiGet } from './js/auth.js';
await guardRole('secretariat');
document.getElementById('go').onclick = async()=>{
const term = encodeURIComponent(document.getElementById('q').value||'');
const res = await apiGet('/api/users/list.php?q='+term);
const box = document.getElementById('list');
if(!res.ok) return box.textContent = res.error || 'Σφάλμα';
box.innerHTML = res.items.map(u=>`<div class="card" style="padding:.6rem;margin:.3rem 0">${u.name} — ${u.email} — ${u.role}</div>`).join('');
}
</script>
</body></html>